<!DOCTYPE html>
<html lang="en">

<head>
    <title>AskM8 - Display a question</title>
    <link rel="stylesheet" media="screen" href="{{url_for('static', filename='style.css')}}"/>
    
</head>

<body>
    <h2>
        <p id="q_title">{{question_id}}. {{title}}</p>
    </h2>
    <p id="details">Details: </p>
    <div class="q_detail" id="q_desc">{{message}}</div>
    <p id="q_date">{{date}}</p>
    <h3 id="answers">Answers: </h3>
    <table class="display_q_details_table" border="1" align="left" style="width:64%">
        {%if answer_details%}
            {%for tupple in answer_details%}
            <tr>
                <td>{{tupple[0]}}</td>
                <td>{{tupple[4]}}</td>
                <td>{{tupple[1]}}</td>
                <td>{{tupple[2]}}</td>
                <td><a href="{{url_for('delete_answer', question_id=question_id, answer_id=tupple[0])}}" method='POST'>delete</a></td>
            </tr>
            {%endfor%}
        {%else%}
            <tr>
                <td>
                    Seems like your question hasn't been answered yet. Oh wait... EXISTENCE IS PAIN.
                </td>
            </tr>
        {%endif%}
    </table>
    <form action="/question/{{question_id}}/new-comment" method="POST">
        <textarea name="comment" id="" cols="30" rows="3"></textarea>
        <input type="submit" value="Send Comment">
    </form>
    {%if comments%}
    <table>
        {%for comment in comments%}
        <tr>
            <td>
                {{comment[0]}}
            </td>
            <td>
                {{comment[1]}}
            </td>
        </tr>
        {%endfor%}
    </table>
    {%endif%}
    <p id="add_answer_q">Add a new answer:</p>
    <p>
        <form id="add_answer" action="/question/{{question_id}}" method="POST">
            <textarea name="answer" rows="5" cols="42"></textarea><br>
            <p><input type="submit" value="submit"></p>
        </form>
    </p>
    <a id="back" href="{{url_for('list_questions')}}">
            <button>Back</button>
        </a>

</body>

</html>